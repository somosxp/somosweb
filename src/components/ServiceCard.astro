---
import PrimaryButton from "./PrimaryButton.astro"

const {
  title,
  description,
  image,
  bgcolor = '#FFFFFF',
  color = '#000000',
  index,
  total
} = Astro.props

const offset = Math.min(index * 100, (total - 1) * 100)

---
<article style={{backgroundColor: bgcolor, color, top: `${offset}px`}} class="rounded-3xl lg:rounded-4xl p-4 lg:p-8 pt-11 flex flex-col gap-y-4 sticky">

  <div class="flex flex-col lg:flex-row gap-x-24">
    <div class="lg:w-1/2 flex flex-col justify-between">
      <header class="flex flex-col gap-y-6">
        <h3 class="text-3xl lg:text-5xl font-semibold">{title}</h3>
        <div class="inline-flex gap-x-2">
          <PrimaryButton>Tab here</PrimaryButton>
        </div>
      </header>
      <p class="lg:text-4xl text-xl mt-8">{description}</p>
    </div>

    <figure class="lg:w-1/2 rounded-2xl lg:rounded-4xl overflow-hidden mt-5 lg:mt-0">
      <img src={image} class="object-cover" />
    </figure>
  </div>
</article>